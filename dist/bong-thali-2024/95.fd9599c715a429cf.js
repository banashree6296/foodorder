"use strict";(self.webpackChunkBong_Thali_2024=self.webpackChunkBong_Thali_2024||[]).push([[95],{6095:(F,u,a)=>{a.r(u),a.d(u,{AdminModule:()=>b});var c=a(6814),m=a(9310),t=a(4946),g=a(9201),l=a(95);function f(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",24),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.logout())}),t._uU(2,"Logout"),t.qZA(),t.BQk()}}function _(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"img",25),t.qZA(),t.TgZ(11,"td")(12,"button",26),t.NdJ("click",function(){const d=t.CHM(o).$implicit,r=t.oxw();return t.KtG(r.myFoodSet(d))}),t._uU(13,"Update"),t.qZA(),t.TgZ(14,"button",27),t.NdJ("click",function(){const d=t.CHM(o).$implicit,r=t.oxw();return t.KtG(r.delete(d._id))}),t._uU(15,"Delete"),t.qZA()()()}if(2&i){const o=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(o.food_name),t.xp6(2),t.Oqu(o.food_desc),t.xp6(2),t.Oqu(o.food_price),t.xp6(2),t.s9C("src",o.food_image,t.LSH),t.s9C("alt",o.food_name),t.s9C("title",o.food_name)}}function p(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",28),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.update())}),t._uU(2,"Update"),t.qZA(),t.BQk()}}function h(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.addFood())}),t._uU(1,"Add food"),t.qZA()}}const A=[{path:"",component:(()=>{class i{constructor(o,n,e){this.fApiService=o,this.fBuilder=n,this.Route=e,this.foodItems=[],this.foodObject=[],this.activeUser="",this.myFood=this.fBuilder.group({food_name:[""],food_desc:[""],food_price:[""],food_image:[]})}ngOnInit(){this.getAllFood(),this.getLocalstorageData()}getLocalstorageData(){this.activeUser=localStorage.getItem("activeUser")}logout(){alert(`${this.activeUser} You have successfully logout`),localStorage.clear(),this.Route.navigateByUrl("/login")}ngAfterViewInit(){}setFile(o){let n=o.target.files[0];console.log(n),this.myFood.get("food_image")?.setValue(n)}getAllFood(){this.fApiService.getAllFoods().subscribe({next:o=>{this.foodItems=o,console.log(this.foodItems)},error:o=>{console.log(o)}})}addFood(){let o=new FormData,n=this.myFood.value;Object.keys(n).forEach(e=>{o.append(e,n[e])}),this.fApiService.addNewFood(o).subscribe({next:e=>{console.log(e),alert(e.message),this.getAllFood(),this.myFood.reset()},error:e=>{console.log(e)}})}myFoodSet(o){console.log(o),this.foodObject=o,this.myFood.get("food_name")?.setValue(this.foodObject.food_name),this.myFood.get("food_desc")?.setValue(this.foodObject.food_desc),this.myFood.get("food_price")?.setValue(this.foodObject.food_price)}update(){let o=new FormData,n=this.myFood.value;Object.keys(n).forEach(e=>{o.append(e,n[e])}),this.fApiService.updateFood(this.foodObject._id,o).subscribe({next:e=>{console.log(e),this.getAllFood(),this.myFood.reset(),alert(e.message)},error:e=>{console.log(e)}})}delete(o){console.log(o);var n=confirm("Want to delete item?");console.log(n),n&&this.fApiService.deleteFood(o).subscribe({next:e=>{console.log(e),alert(e.message),this.getAllFood()},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.r),t.Y36(l.qu),t.Y36(m.F0))};static#o=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:63,vars:6,consts:[[1,"jumbotron","text-center"],[1,"container-fluid"],[4,"ngIf"],["data-toggle","modal","data-target","#exampleModal",1,"btn","btn-sm","btn-success","float-right"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["type","text","formControlName","food_name",1,"form-control"],["rows","10","cols","20","formControlName","food_desc",1,"form-control"],["type","number","formControlName","food_price",1,"form-control"],["type","file",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],[4,"ngIf","ngIfElse"],["AddButton",""],[1,"btn","btn-sm","btn-danger","float-right",3,"click"],["width","68px","height","68px",3,"src","alt","title"],["data-toggle","modal","data-target","#exampleModal",1,"btn","btn-sm","btn-outline-warning",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(n,e){if(1&n&&(t.TgZ(0,"header",0)(1,"h5"),t._uU(2,"Admin Can Perform all the operations"),t.qZA()(),t.TgZ(3,"div",1)(4,"h2"),t._uU(5,"Food related operations..."),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Admin can add new food,update,delete,view all foods items "),t.TgZ(8,"code"),t._uU(9),t.qZA(),t.YNc(10,f,3,0,"ng-container",2),t.TgZ(11,"button",3),t._uU(12,"Add new food"),t.qZA()(),t.TgZ(13,"table",4)(14,"thead")(15,"tr")(16,"th"),t._uU(17,"Sl No"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Food"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Desc"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Price"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Image"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Action"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,_,16,7,"tr",5),t.qZA()(),t.TgZ(30,"div",6)(31,"div",7)(32,"div",8)(33,"div",9)(34,"h5",10),t._uU(35,"Food operations"),t.qZA(),t.TgZ(36,"button",11)(37,"span",12),t._uU(38,"\xd7"),t.qZA()()(),t.TgZ(39,"div",13)(40,"form",14)(41,"div",15)(42,"label"),t._uU(43,"Food:"),t.qZA(),t._UZ(44,"input",16),t.qZA(),t.TgZ(45,"div",15)(46,"label"),t._uU(47,"Desc:"),t.qZA(),t._UZ(48,"textarea",17),t.qZA(),t.TgZ(49,"div",15)(50,"label"),t._uU(51,"Price:"),t.qZA(),t._UZ(52,"input",18),t.qZA(),t.TgZ(53,"div",15)(54,"label"),t._uU(55,"Image:"),t.qZA(),t.TgZ(56,"input",19),t.NdJ("change",function(r){return e.setFile(r)}),t.qZA()()()(),t.TgZ(57,"div",20)(58,"button",21),t._uU(59,"Close"),t.qZA(),t.YNc(60,p,3,0,"ng-container",22),t.YNc(61,h,2,0,"ng-template",null,23,t.W1O),t.qZA()()()()()),2&n){const d=t.MAs(62);t.xp6(9),t.hij("Active user:",e.activeUser,""),t.xp6(1),t.Q6J("ngIf",e.activeUser),t.xp6(19),t.Q6J("ngForOf",e.foodItems),t.xp6(11),t.Q6J("formGroup",e.myFood),t.xp6(20),t.Q6J("ngIf",0!=e.foodObject)("ngIfElse",d)}},dependencies:[c.sg,c.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u]})}return i})()}];let Z=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(A),m.Bz]})}return i})(),b=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#o=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[c.ez,Z,l.UX]})}return i})()}}]);